@import '../../../common/sass/colors.scss';
@import '../../../common/sass/metrics.scss';
@import '../../../common/sass/mixins/flex.scss';

$input-height: $height-s;
$input-temp-height: $height-m;

$label-padding: 1px $spacing-s;

$label-shown-pos: ($height-s / 3);
$error-shown-pos: ($height-s / 4);

$input-border: 1px solid $color-border;

.input_wrapper {
    @include flex(flex-start, center, column);
    position: relative;
    transition: all $transition-speed;
    border: $input-border;
    border-radius: $border-radius-s;

    input {
        border-radius: $border-radius-s;
        padding: $spacing-none $spacing-s;
        height: $input-height;
        transition: all $transition-speed;
        border: none;
        box-sizing: border-box;
        width: 100%;
        font-size: $font-size-m;
        background-color: $color-white;
        &:not(:placeholder-shown) + label {
            transition: all $transition-speed;
            position: absolute;
            top: -$label-shown-pos;
            background-color: $color-background;
            border: $input-border;
            opacity: 1;
        }
    }

    label,
    .error {
        border-radius: $border-radius-s;
        padding: $label-padding;
        border: none;
        transition: all $transition-speed;
        position: absolute;
        opacity: 0;
        font-size: $font-size-s;
        background-color: $color-error;
    }

    label {
        top: 0;
        left: -1px;
        border-bottom-left-radius: 0;
    }

    .error {
        right: 0;
        bottom: 0;
        border-top-right-radius: 0;
        transition: all $transition-speed;
    }

    .error_show {
        transition: all $transition-speed;
        bottom: -$error-shown-pos;
        opacity: 1;
    }

    &:hover,
    &:focus {
        border-radius: $border-radius-none;
    }

    &.disabled {
        border: 1px solid transparent;
        pointer-events: none;
        .label {
            top: -$label-shown-pos * 1.5;
            padding: 1px 0;
            border: 1px solid transparent;
            border-radius: $border-radius-none;
        }
    }

    &.primary {
        color: $color-primary;
        background-color: $color-background;
        border: 1px solid $color-border;
    }

    &.secondary {
        color: $color-secondary;
        background-color: $color-secondary-background;
        border: 1px solid $color-secondary-border;
    }

    &.temp {
        input {
            padding-bottom: $input-temp-height / 2;
            text-decoration: line-through;
            color: $color-error;
            height: $input-temp-height;
            font-style: italic;
        }
        .temp_value {
            position: absolute;
            left: $spacing-s;
            top: $input-temp-height / 2;
            font-weight: bold;
        }
    }
}
